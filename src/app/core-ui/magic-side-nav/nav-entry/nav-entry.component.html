<li
  class="nav-item"
  [class.has-children]="
    item.type === 'group' && item.children && item.children.length > 0
  "
  role="listitem"
>
  @if (
    item.type === 'group' && item.additionalButtons && item.additionalButtons.length > 0
  ) {
    <!-- Multi-button wrapper for groups with additional buttons -->
    <nav-multi-btn
      [item]="item"
      [showText]="showText"
      [isGroupExpanded]="isGroupExpanded"
      (itemClick)="onItemClick()"
    ></nav-multi-btn>
  } @else {
    <!-- Standard nav item -->
    <nav-item
      [item]="item"
      [showText]="showText"
      [isExpanded]="isGroupExpanded"
      [activeWorkContextId]="activeWorkContextId"
      (itemClick)="onItemClick()"
    ></nav-item>
  }

  <!-- Children Items -->
  @if (item.type === 'group' && item.children && item.children.length > 0) {
    <ul
      class="nav-children"
      [class.expanded]="isGroupExpanded"
      [class.visible]="isGroupExpanded"
      [attr.id]="'group-' + item.id"
      role="list"
    >
      @for (child of item.children; track child.id) {
        <li
          class="nav-child-item"
          role="listitem"
        >
          <nav-item
            [item]="child"
            [showText]="true"
            [isChild]="true"
            [activeWorkContextId]="activeWorkContextId"
            (itemClick)="onChildClick(child)"
          ></nav-item>
        </li>
      }
    </ul>
  }
</li>
